### 如何实现容器中子元素三个及三个以上是三列布局，子元素两个则两列布局？

css 布局阔以使用flex，grid.

关健在于如何判断有多少元素。我们只需要判断有 1 个，有 2 个的情况，其他都是三列布局
```
/* 有1个元素 */
.item:nth-last-child(1):first-child {
  flex: 1;
}

.item:nth-last-child(1):first-child ~ .item {
  flex: 1;
}

/* 有2个元素 */
.item:nth-last-child(2):first-child {
  flex: 1;
}

.item:nth-last-child(2):first-child ~ .item {
  flex: 1;
}
```

反过来，前 3 个设置flex:1，超过 3 个就重置为none
```
/*前3个flex：1*/
.item:nth-child(-n + 3) {
  flex: 1;
}

/*超过3个则none*/
.item:nth-last-child(4),
.item:nth-last-child(4) ~ .item {
  flex: none;
}
```

元素：
https://codepen.io/9527yl/pen/dyVyQJV
```
<div class="container">
  <div class='item'>1</div>
</div>

<div class="container">
  <div class='item'>1</div>
  <div class='item'>2</div>
</div>
  
<div class="container">
  <div class='item'></div>
  <div class='item'></div>
  <div class='item'></div>
  <div class='item'></div>
  <div class='item'></div>
</div>

.container{
  display: flex;
  flex-wrap: wrap;
  font-size: 24px;
  color: red;
/*   height: 200px; */
  margin-bottom: 20px;
}

.item{
  height: 200px;
  flex: none;
  border: 1px solid red;
  width: calc((100% - 6px) / 3)
}
```